<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포스트</title>

    <!-- Stylesheet normalize -->
    <link rel="stylesheet" href="../stylesheets/normalize.minify.css">

    <!-- Post stylesheet -->
    <link rel="stylesheet" href="../stylesheets/post.css">

    <!-- Common stylesheet -->
    <link rel="stylesheet" href="../stylesheets/common.css">

</head>

<body>

    <div class="container">

        <ul class="list">

            <li class="item">
                <div class="main">
                    <h6 class="excercise">Squat</h6>
                    <ul class="sets">
                        <li class="set">
                            <p class="reps"><span class="1set-squat-reps">10</span>Reps</p>
                            <p class="weight"><span class="1set-squat-weight">150</span>Kg</p>
                            <button class="init-current-set 1set-squat-init" data-set="1"data-exercise="squat" data-reps="10" data-weight="150">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="2set-squat-reps">9</span>Reps</p>
                            <p class="weight"><span class="2set-squat-weight">150</span>Kg</p>
                            <button class="init-current-set 2set-squat-init" data-set="2"data-exercise="squat" data-reps="9" data-weight="150">2세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="3set-squat-reps">9</span>Reps</p>
                            <p class="weight"><span class="3set-squat-weight">140</span>Kg</p>
                            <button class="init-current-set 3set-squat-init" data-set="3"data-exercise="squat" data-reps="9" data-weight="140">3세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="4set-squat-reps">8</span>Reps</p>
                            <p class="weight"><span class="4set-squat-weight">140</span>Kg</p>
                            <button class="init-current-set 4set-squat-init" data-set="4"data-exercise="squat" data-reps="8" data-weight="140">4세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="5set-squat-reps">8</span>Reps</p>
                            <p class="weight"><span class="5set-squat-weight">130</span>Kg</p>
                            <button class="init-current-set 5set-squat-init" data-set="5"data-exercise="squat" data-reps="8" data-weight="130">5세트 수정</button>
                        </li><!-- //.set -->
                    </ul><!-- //.sets -->
                </div><!-- //.main -->

                <div class="sub">
                    <textarea name="memo" class="memo"></textarea>
                </div><!-- //.sub -->
            </li><!-- //.item -->

            <li class="item">
                <div class="main">
                    <h6 class="excercise">Deadlift</h6>
                    <ul class="sets">
                        <li class="set">
                            <p class="reps"><span class="1set-deadlift-reps">6</span>Reps</p>
                            <p class="weight"><span class="1set-deadlift-weight">185</span>Kg</p>
                            <button class="init-current-set 1set-deadlift-init" data-set="1"data-exercise="Deadlift" data-reps="6" data-weight="185">5세트 수정</button>
                        </li><!-- //.set -->
                    </ul><!-- //.sets -->
                </div><!-- //.main -->

                <div class="sub">
                    <textarea name="memo" class="memo"></textarea>
                </div><!-- //.sub -->
            </li><!-- //.item -->

            <li class="item">
                <div class="main">
                    <h6 class="excercise">Steaf-Leg Deadlift</h6>
                    <ul class="sets">
                        <li class="set">
                            <p class="reps"><span class="1set-steaflegdeadlift-reps">12</span>Reps</p>
                            <p class="weight"><span class="1set-steaflegdeadlift-weight">130</span>Kg</p>
                            <button class="init-current-set 1set-steaflegdeadlift-init" data-set="1"data-exercise="steaflegdeadlift" data-reps="12" data-weight="130">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="2set-steaflegdeadlift-reps">12</span>Reps</p>
                            <p class="weight"><span class="2set-steaflegdeadlift-weight">130</span>Kg</p>
                            <button class="init-current-set 2set-steaflegdeadlift-init" data-set="2"data-exercise="steaflegdeadlift" data-reps="12" data-weight="130">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="3set-steaflegdeadlift-reps">12</span>Reps</p>
                            <p class="weight"><span class="3set-steaflegdeadlift-weight">130</span>Kg</p>
                            <button class="init-current-set 3set-steaflegdeadlift-init" data-set="3"data-exercise="steaflegdeadlift" data-reps="12" data-weight="130">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="4set-steaflegdeadlift-reps">12</span>Reps</p>
                            <p class="weight"><span class="4set-steaflegdeadlift-weight">130</span>Kg</p>
                            <button class="init-current-set 4set-steaflegdeadlift-init" data-set="4"data-exercise="steaflegdeadlift" data-reps="12" data-weight="130">1세트 수정</button>
                        </li><!-- //.set -->
                    </ul><!-- //.sets -->
                </div><!-- //.main -->

                <div class="sub">
                    <textarea name="memo" class="memo"></textarea>
                </div><!-- //.sub -->
            </li><!-- //.item -->

            <li class="item">
                <div class="main">
                    <h6 class="excercise">Prone-Cobra</h6>
                    <ul class="sets">
                        <li class="set">
                            <p class="reps"><span class="1set-pronecobra-reps">10</span>Reps</p>
                            <p class="weight"><span class="1set-pronecobra-weight">0</span>Kg</p>
                            <button class="init-current-set 1set-pronecobra-init" data-set="1"data-exercise="pronecobra" data-reps="10" data-weight="0">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="2set-pronecobra-reps">10</span>Reps</p>
                            <p class="weight"><span class="2set-pronecobra-weight">0</span>Kg</p>
                            <button class="init-current-set 2set-pronecobra-init" data-set="2"data-exercise="pronecobra" data-reps="10" data-weight="0">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="3set-pronecobra-reps">10</span>Reps</p>
                            <p class="weight"><span class="3set-pronecobra-weight">0</span>Kg</p>
                            <button class="init-current-set 3set-pronecobra-init" data-set="3"data-exercise="pronecobra" data-reps="10" data-weight="0">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="4set-pronecobra-reps">10</span>Reps</p>
                            <p class="weight"><span class="4set-pronecobra-weight">0</span>Kg</p>
                            <button class="init-current-set 4set-pronecobra-init" data-set="4"data-exercise="pronecobra" data-reps="10" data-weight="0">1세트 수정</button>
                        </li><!-- //.set -->
                    </ul><!-- //.sets -->
                </div><!-- //.main -->

                <div class="sub">
                    <textarea name="memo" class="memo"></textarea>
                </div><!-- //.sub -->
            </li><!-- //.item -->

            <li class="item">
                <div class="main">
                    <h6 class="excercise">Bicycle-Maneuver</h6>
                    <ul class="sets">
                        <li class="set">
                            <p class="reps"><span class="1set-bicyclemaneuver-reps">15</span>Reps</p>
                            <p class="weight"><span class="1set-bicyclemaneuver-weight">0</span>Kg</p>
                            <button class="init-current-set 1set-bicyclemaneuver-init" data-set="1"data-exercise="bicyclemaneuver" data-reps="15" data-weight="0">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="2set-bicyclemaneuver-reps">15</span>Reps</p>
                            <p class="weight"><span class="2set-bicyclemaneuver-weight">0</span>Kg</p>
                            <button class="init-current-set 2set-bicyclemaneuver-init" data-set="2"data-exercise="bicyclemaneuver" data-reps="15" data-weight="0">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="3set-bicyclemaneuver-reps">15</span>Reps</p>
                            <p class="weight"><span class="3set-bicyclemaneuver-weight">0</span>Kg</p>
                            <button class="init-current-set 3set-bicyclemaneuver-init" data-set="3"data-exercise="bicyclemaneuver" data-reps="15" data-weight="0">1세트 수정</button>
                        </li><!-- //.set -->
                        <li class="set">
                            <p class="reps"><span class="4set-bicyclemaneuver-reps">15</span>Reps</p>
                            <p class="weight"><span class="4set-bicyclemaneuver-weight">0</span>Kg</p>
                            <button class="init-current-set 4set-bicyclemaneuver-init" data-set="4"data-exercise="bicyclemaneuver" data-reps="15" data-weight="0">1세트 수정</button>
                        </li><!-- //.set -->
                    </ul><!-- //.sets -->
                </div><!-- //.main -->

                <div class="sub">
                    <textarea name="memo" class="memo"></textarea>
                </div><!-- //.sub -->
            </li><!-- //.item -->

        </ul><!-- //.list -->

    </div><!-- //.container -->

    <div class="modal">
        <div class="modal-box">
            <form action="#" method="post" id="form-set" onsubmit="return false;">
                <input type="hidden" name="exercise" id="exercise" value="">
                <input type="hidden" name="set" id="set" value="">
                <fieldset>
                    <p>
                        <label for="reps">Reps</label>
                        <input type="text" name="reps" id="reps" value="">
                    </p>
                    <p>
                        <label for="weight">Weight</label>
                        <input type="text" name="weight" id="weight" value="">
                    </p>
                    <button type="submit" class="none-submit">update</button>
                </fieldset>
            </form>
            <p class="close"><button class="close-modal">Close</button></p>
        </div><!-- //.modal-box-->
    </div><!-- //.modal -->


    <!-- DOM Library -->
    <!-- <script src="../libraries/dom.ui.js "></script> -->
    <script src="../libraries/dom.js "></script>

    <script>
        ( function ( $ ) {

            $( '.init-current-set' ).modal( function () {

                var exerciseEntries = Object.entries( this.dataset );

                for ( const [ key, value ] of exerciseEntries ) {
                    $( '#' + key ).value( value );
                }
            } );


            // Form submit.
            $( '#form-set' ).submit( function () {

                var data = $( this ).formData();

                $( '.' + data.set + 'set-' + data.exercise + '-reps' ).text( data.reps );
                $( '.' + data.set + 'set-' + data.exercise + '-weight' ).text( data.weight );

                $( '.' + data.set + 'set-' + data.exercise + '-init' ).data( {
                    reps: data.reps,
                    weight: data.weight
                } );

                $( '.modal' ).display( 'none' );
            } );

        } )( dom );
    </script>

</body>
</html>